CREATE TABLE users (
user_id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
username VARCHAR(50) NOT NULL UNIQUE,
email VARCHAR(50) NOT NULL UNIQUE,
password VARCHAR(255) NOT NULL,
first_name VARCHAR(50) NOT NULL,
last_name VARCHAR(50) NOT NULL,
date_of_birth DATE NOT NULL,
profile_picture_url VARCHAR(255),
bio VARCHAR(255),
join_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP 
);

CREATE TABLE follower (
follower_id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
user_id INT(6) UNSIGNED NOT NULL,
user_id_following INT(6) UNSIGNED NOT NULL
);

CREATE TABLE likes (
like_id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
user_id INT(6) UNSIGNED NOT NULL,
user_id_liking INT(6) UNSIGNED NOT NULL,
post_id INT(6) UNSIGNED NOT NULL
);

CREATE TABLE post (
post_id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
user_id INT(6) UNSIGNED NOT NULL,
caption VARCHAR(100),
image_url VARCHAR(255) NOT NULL,
like_count INT(6) UNSIGNED,
date_posted TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE comment (
comment_id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
user_id INT(6) UNSIGNED NOT NULL,
post_id INT(6) UNSIGNED NOT NULL,
text VARCHAR(100) NOT NULL,
date_posted TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

ALTER TABLE follower
ADD FOREIGN KEY (user_id) REFERENCES users(user_id);

ALTER TABLE likes
ADD FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE CASCADE ON UPDATE CASCADE,
ADD FOREIGN KEY (post_id) REFERENCES post(post_id) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE post
ADD FOREIGN KEY (user_id) REFERENCES users(user_id);

ALTER TABLE comment
ADD FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE CASCADE ON UPDATE CASCADE,
ADD FOREIGN KEY (post_id) REFERENCES post(post_id) ON DELETE CASCADE ON UPDATE CASCADE;
-----------------------------------------------------------------------------------

